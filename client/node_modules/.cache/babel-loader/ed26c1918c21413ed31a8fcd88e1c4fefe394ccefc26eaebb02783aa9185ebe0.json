{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FileUpload=function FileUpload(_ref){var setFieldValue=_ref.setFieldValue,fieldName=_ref.fieldName,force=_ref.force;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var handleUpload=function handleUpload(e){var file=e.currentTarget.files?e.currentTarget.files[0]:null;TransformFile(file);};var TransformFile=function TransformFile(file){var reader=new FileReader();if(file){reader.readAsDataURL(file);reader.onloadend=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(typeof reader.result===\"string\"){setImage(reader.result);setFieldValue(fieldName,reader.result);}case 1:case\"end\":return _context.stop();}},_callee);}));}};useEffect(function(){setImage(\"\");},[force]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-8\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/\",onChange:handleUpload}),/*#__PURE__*/_jsx(\"img\",{src:image,className:\"w-80\",alt:\"\"})]});};export default FileUpload;","map":{"version":3,"names":["React","useEffect","useState","FileUpload","setFieldValue","fieldName","force","image","setImage","handleUpload","e","file","currentTarget","files","TransformFile","reader","FileReader","readAsDataURL","onloadend","result"],"sources":["/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/src/AdminPanel/Products/Create/FileUploader/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n\ntype Props = {\n  setFieldValue: any;\n  fieldName: string;\n  force: boolean;\n};\nconst FileUpload = ({ setFieldValue, fieldName, force }: Props) => {\n  const [image, setImage] = useState(\"\");\n\n  const handleUpload = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.currentTarget.files ? e.currentTarget.files[0] : null;\n    TransformFile(file);\n  };\n\n  const TransformFile = (file: any) => {\n    const reader = new FileReader();\n    if (file) {\n      reader.readAsDataURL(file);\n      reader.onloadend = async () => {\n        if (typeof reader.result === \"string\") {\n          setImage(reader.result);\n          setFieldValue(fieldName, reader.result);\n        }\n      };\n    }\n  };\n\n  useEffect(() => {\n    setImage(\"\");\n  }, [force]);\n\n  return (\n    <div className=\"flex flex-col gap-8\">\n      <input type=\"file\" accept=\"image/\" onChange={handleUpload} />\n      <img src={image} className=\"w-80\" alt=\"\" />\n    </div>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"kaAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,wFAOnD,GAAMC,WAAU,CAAG,QAAbA,WAAU,MAAmD,IAA7CC,cAAa,MAAbA,aAAa,CAAEC,SAAS,MAATA,SAAS,CAAEC,KAAK,MAALA,KAAK,CACnD,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAsC,CAAK,CAC/D,GAAMC,KAAI,CAAGD,CAAC,CAACE,aAAa,CAACC,KAAK,CAAGH,CAAC,CAACE,aAAa,CAACC,KAAK,CAAC,CAAC,CAAC,CAAG,IAAI,CACpEC,aAAa,CAACH,IAAI,CAAC,CACrB,CAAC,CAED,GAAMG,cAAa,CAAG,QAAhBA,cAAa,CAAIH,IAAS,CAAK,CACnC,GAAMI,OAAM,CAAG,GAAIC,WAAU,EAAE,CAC/B,GAAIL,IAAI,CAAE,CACRI,MAAM,CAACE,aAAa,CAACN,IAAI,CAAC,CAC1BI,MAAM,CAACG,SAAS,wEAAG,oIACjB,GAAI,MAAOH,OAAM,CAACI,MAAM,GAAK,QAAQ,CAAE,CACrCX,QAAQ,CAACO,MAAM,CAACI,MAAM,CAAC,CACvBf,aAAa,CAACC,SAAS,CAAEU,MAAM,CAACI,MAAM,CAAC,CACzC,CAAC,qDACF,GACH,CACF,CAAC,CAEDlB,SAAS,CAAC,UAAM,CACdO,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAE,CAACF,KAAK,CAAC,CAAC,CAEX,mBACE,aAAK,SAAS,CAAC,qBAAqB,wBAClC,cAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAEG,YAAa,EAAG,cAC7D,YAAK,GAAG,CAAEF,KAAM,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAG,GACvC,CAEV,CAAC,CAED,cAAeJ,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}