{"ast":null,"code":"import _objectSpread from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{getItem,setItem}from'../../utils/localStorage';import{ActionType}from'../action-types';var initialState={checkoutList:Array.isArray(getItem('shoppingBag'))?getItem('shoppingBag'):[]};var checkoutReducer=function checkoutReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ActionType.ADD_CHECKOUT:var card=action.payload;var newCard=[].concat(_toConsumableArray(state.checkoutList),[card]);var findCard=state.checkoutList.findIndex(function(x){return x.id===action.payload.id;});//busco si hay una card igual en el carrito\nvar update=[];//variable auxiliar en caso de que exista otra card igual\nif(findCard>=0){// si encuentra una card\nupdate=state.checkoutList;// copio el estado\nupdate[findCard].ammount+=action.payload.ammount;// le sumo el amount del payload al de la card existente\n}setItem('shoppingBag',findCard===-1?newCard:update);return _objectSpread(_objectSpread({},state),{},{checkoutList:getItem('shoppingBag')});case ActionType.REMOVE_CHECKOUT:var filterList=state.checkoutList.filter(function(x){return x.id!==action.payload;});setItem('shoppingBag',filterList);return _objectSpread(_objectSpread({},state),{},{checkoutList:getItem('shoppingBag')});default:return _objectSpread({},state);}};export default checkoutReducer;","map":{"version":3,"names":["getItem","setItem","ActionType","initialState","checkoutList","Array","isArray","checkoutReducer","state","action","type","ADD_CHECKOUT","card","payload","newCard","findCard","findIndex","x","id","update","ammount","REMOVE_CHECKOUT","filterList","filter"],"sources":["/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/src/state/reducers/checkoutReducer.tsx"],"sourcesContent":["import { getItem, setItem } from '../../utils/localStorage';\nimport { ActionType } from '../action-types';\nimport { ActionCheckout } from '../actions';\nimport { Checkout, CheckoutState } from '../types';\n\nconst initialState: CheckoutState = {\n  checkoutList: Array.isArray(getItem('shoppingBag'))\n    ? getItem('shoppingBag')\n    : [],\n};\n\nconst checkoutReducer = (state = initialState, action: ActionCheckout) => {\n  switch (action.type) {\n    case ActionType.ADD_CHECKOUT:\n      let card: Checkout = action.payload;\n      let newCard: Checkout[] = [...state.checkoutList, card];\n      let findCard = state.checkoutList.findIndex(\n        (x) => x.id === action.payload.id\n      ); //busco si hay una card igual en el carrito\n      let update: Checkout[] = []; //variable auxiliar en caso de que exista otra card igual\n      if (findCard >= 0) {\n        // si encuentra una card\n        update = state.checkoutList; // copio el estado\n        update[findCard].ammount += action.payload.ammount; // le sumo el amount del payload al de la card existente\n      }\n      setItem('shoppingBag', findCard === -1 ? newCard : update);\n      return {\n        ...state,\n        checkoutList: getItem('shoppingBag'),\n      };\n    case ActionType.REMOVE_CHECKOUT:\n      let filterList = state.checkoutList.filter(\n        (x) => x.id !== action.payload\n      );\n      setItem('shoppingBag', filterList);\n      return {\n        ...state,\n        checkoutList: getItem('shoppingBag'),\n      };\n    default:\n      return { ...state };\n  }\n};\n\nexport default checkoutReducer;\n"],"mappings":"mRAAA,OAASA,OAAO,CAAEC,OAAO,KAAQ,0BAA0B,CAC3D,OAASC,UAAU,KAAQ,iBAAiB,CAI5C,GAAMC,aAA2B,CAAG,CAClCC,YAAY,CAAEC,KAAK,CAACC,OAAO,CAACN,OAAO,CAAC,aAAa,CAAC,CAAC,CAC/CA,OAAO,CAAC,aAAa,CAAC,CACtB,EACN,CAAC,CAED,GAAMO,gBAAe,CAAG,QAAlBA,gBAAe,EAAqD,IAAjDC,MAAK,2DAAGL,YAAY,IAAEM,OAAsB,2CACnE,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAKR,WAAU,CAACS,YAAY,CAC1B,GAAIC,KAAc,CAAGH,MAAM,CAACI,OAAO,CACnC,GAAIC,QAAmB,8BAAON,KAAK,CAACJ,YAAY,GAAEQ,IAAI,EAAC,CACvD,GAAIG,SAAQ,CAAGP,KAAK,CAACJ,YAAY,CAACY,SAAS,CACzC,SAACC,CAAC,QAAKA,EAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,CAACK,EAAE,GAClC,CAAE;AACH,GAAIC,OAAkB,CAAG,EAAE,CAAE;AAC7B,GAAIJ,QAAQ,EAAI,CAAC,CAAE,CACjB;AACAI,MAAM,CAAGX,KAAK,CAACJ,YAAY,CAAE;AAC7Be,MAAM,CAACJ,QAAQ,CAAC,CAACK,OAAO,EAAIX,MAAM,CAACI,OAAO,CAACO,OAAO,CAAE;AACtD,CACAnB,OAAO,CAAC,aAAa,CAAEc,QAAQ,GAAK,CAAC,CAAC,CAAGD,OAAO,CAAGK,MAAM,CAAC,CAC1D,sCACKX,KAAK,MACRJ,YAAY,CAAEJ,OAAO,CAAC,aAAa,CAAC,GAExC,IAAKE,WAAU,CAACmB,eAAe,CAC7B,GAAIC,WAAU,CAAGd,KAAK,CAACJ,YAAY,CAACmB,MAAM,CACxC,SAACN,CAAC,QAAKA,EAAC,CAACC,EAAE,GAAKT,MAAM,CAACI,OAAO,GAC/B,CACDZ,OAAO,CAAC,aAAa,CAAEqB,UAAU,CAAC,CAClC,sCACKd,KAAK,MACRJ,YAAY,CAAEJ,OAAO,CAAC,aAAa,CAAC,GAExC,QACE,wBAAYQ,KAAK,EAAG,CAE1B,CAAC,CAED,cAAeD,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}