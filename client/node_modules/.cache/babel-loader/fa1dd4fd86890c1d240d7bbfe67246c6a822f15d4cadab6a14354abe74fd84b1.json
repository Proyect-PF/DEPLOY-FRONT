{"ast":null,"code":"import{getItem}from\"../../../utils/localStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SizeSelector=function SizeSelector(_ref){var detailId=_ref.detailId,selected=_ref.selected,sizes=_ref.sizes,setter=_ref.setter;//AL: selected state for visual changes in the component, the value passed\n//to the invoking is manneged by the \"setter\" function\nvar checkoutList=getItem(\"shoppingBag\");var sizesStock=function sizesStock(x){if(x===0){if((checkoutList===null||checkoutList===void 0?void 0:checkoutList.length)>0){var findCard=checkoutList.find(function(x){return x.id===detailId+\"-S\";});if(findCard){return sizes[0]-findCard.ammount;}}return sizes[0];}if(x===1){if((checkoutList===null||checkoutList===void 0?void 0:checkoutList.length)>0){var _findCard=checkoutList.find(function(x){return x.id===detailId+\"-M\";});if(_findCard){return sizes[1]-_findCard.ammount;}}return sizes[1];}if(x===2){if((checkoutList===null||checkoutList===void 0?void 0:checkoutList.length)>0){var _findCard2=checkoutList.find(function(x){return x.id===detailId+\"-L\";});if(_findCard2){return sizes[2]-_findCard2.ammount;}}return sizes[2];}if(x===3){if((checkoutList===null||checkoutList===void 0?void 0:checkoutList.length)>0){var _findCard3=checkoutList.find(function(x){return x.id===detailId+\"-XL\";});if(_findCard3){return sizes[3]-_findCard3.ammount;}}return sizes[3];}};//AL: this functions manages the selected state & setting the value for the invoking page\nvar handleSize=function handleSize(event){event.preventDefault();var button=event.currentTarget;setter(button.innerHTML);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-4 my-4 text-lg font-bold text-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSize,className:\"w-8 h-8 border border-black \".concat(selected===\"S\"?\"bg-black text-white\":\"bg-white text-black\",\" \").concat(sizesStock(0)===0?\" text-gray-400\":\"\"),disabled:sizesStock(0)===0,children:\"S\"},\"sizeS\"),/*#__PURE__*/_jsx(\"button\",{onClick:handleSize,className:\"w-8 h-8 border border-black \".concat(selected===\"M\"?\"bg-black text-white\":\"bg-white text-black\",\" \").concat(sizesStock(1)===0?\" text-gray-400\":\"\"),disabled:sizesStock(1)===0,children:\"M\"},\"sizeM\"),/*#__PURE__*/_jsx(\"button\",{onClick:handleSize,className:\"w-8 h-8 border border-black \".concat(selected===\"L\"?\"bg-black text-white\":\"bg-white text-black\",\" \").concat(sizesStock(2)===0?\" text-gray-400\":\"\"),disabled:sizesStock(2)===0,children:\"L\"},\"sizeL\"),/*#__PURE__*/_jsx(\"button\",{onClick:handleSize,className:\"w-8 h-8 border border-black \".concat(selected===\"XL\"?\"bg-black text-white\":\"bg-white text-black\",\" \").concat(sizesStock(3)===0?\" text-gray-400\":\"\"),disabled:sizesStock(3)===0,children:\"XL\"},\"sizeXL\")]});};export default SizeSelector;","map":{"version":3,"names":["getItem","SizeSelector","detailId","selected","sizes","setter","checkoutList","sizesStock","x","length","findCard","find","id","ammount","handleSize","event","preventDefault","button","currentTarget","innerHTML"],"sources":["/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/src/components/Inputs/SizeSelector/SizeSelector.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { getItem } from \"../../../utils/localStorage\";\n\ninterface Props {\n  detailId: number;\n  selected: string;\n  sizes: number[];\n  setter: React.Dispatch<React.SetStateAction<string>>;\n}\n\nconst SizeSelector = ({ detailId, selected, sizes, setter }: Props): JSX.Element => {\n  //AL: selected state for visual changes in the component, the value passed\n  //to the invoking is manneged by the \"setter\" function\n  const checkoutList = getItem(\"shoppingBag\")\n\n  const sizesStock = (x:number) => {\n    if(x === 0) {\n      if(checkoutList?.length > 0) {\n        let findCard = checkoutList.find((x:any) => x.id === detailId + \"-S\")\n        if(findCard) {\n          return sizes[0] - findCard.ammount\n        }\n      }\n      return sizes[0]\n    }\n    if(x === 1) {\n      if(checkoutList?.length > 0) {\n        let findCard = checkoutList.find((x:any) => x.id === detailId + \"-M\")\n        if(findCard) {\n          return sizes[1] - findCard.ammount\n        }\n      }\n      return sizes[1]\n    }\n    if(x === 2) {\n      if(checkoutList?.length > 0) {\n        let findCard = checkoutList.find((x:any) => x.id === detailId + \"-L\")\n        if(findCard) {\n          return sizes[2] - findCard.ammount\n        }\n      }\n      return sizes[2]\n    }\n    if(x === 3) {\n      if(checkoutList?.length > 0) {\n        let findCard = checkoutList.find((x:any) => x.id === detailId + \"-XL\")\n        if(findCard) {\n          return sizes[3] - findCard.ammount\n        }\n      }\n      return sizes[3]\n    }\n  }\n\n  //AL: this functions manages the selected state & setting the value for the invoking page\n  const handleSize = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    const button: HTMLButtonElement = event.currentTarget;\n    setter(button.innerHTML);\n  };\n\n  return (\n    <div className=\"flex gap-4 my-4 text-lg font-bold text-center\">\n      <button\n        onClick={handleSize}\n        key=\"sizeS\"\n        className={`w-8 h-8 border border-black ${\n          selected === \"S\" ? \"bg-black text-white\" : \"bg-white text-black\"\n        } ${sizesStock(0) === 0 ? \" text-gray-400\" : \"\"}`}\n        disabled={sizesStock(0) === 0}\n      >\n        S\n      </button>\n      <button\n        onClick={handleSize}\n        key=\"sizeM\"\n        className={`w-8 h-8 border border-black ${\n          selected === \"M\" ? \"bg-black text-white\" : \"bg-white text-black\"\n        } ${sizesStock(1) === 0 ? \" text-gray-400\" : \"\"}`}\n        disabled={sizesStock(1) === 0}\n      >\n        M\n      </button>\n      <button\n        onClick={handleSize}\n        key=\"sizeL\"\n        className={`w-8 h-8 border border-black ${\n          selected === \"L\" ? \"bg-black text-white\" : \"bg-white text-black\"\n        } ${sizesStock(2) === 0 ? \" text-gray-400\" : \"\"}`}\n        disabled={sizesStock(2) === 0}\n      >\n        L\n      </button>\n      <button\n        onClick={handleSize}\n        key=\"sizeXL\"\n        className={`w-8 h-8 border border-black ${\n          selected === \"XL\" ? \"bg-black text-white\" : \"bg-white text-black\"\n        } ${sizesStock(3) === 0 ? \" text-gray-400\" : \"\"}`}\n        disabled={sizesStock(3) === 0}\n      >\n        XL\n      </button>\n      {/* {sizes &&\n        sizes.map((e) => (\n          <button\n            onClick={handleSize}\n            key={sizes.indexOf(e)}\n            className={`w-8 h-8 border border-black ${\n              selected === e ? \"bg-black text-white\" : \"bg-white text-black\"\n            }`}\n          >\n            {e}\n          </button>\n        ))} */}\n    </div>\n  );\n};\n\nexport default SizeSelector;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}