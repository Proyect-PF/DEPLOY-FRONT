{"ast":null,"code":"import _toConsumableArray from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{ActionType}from\"../action-types\";//AL: initialState first defining, needs to match the type defined.\nvar initialState={productTotal:[],//AL:use this state for backup, if needs to retrieve total info for filtering/ordering/etc\nproductList:[],//AL:this state is the one being rendered in the page\n//AL: this state is for information rendered in the details page of specific items\nproductDetails:{id:0,name:\"\",description:\"\",S:0,M:0,L:0,XL:0,price:0,color:\"\",show_in_shop:true,image:\"\"},//AL:this state is for future implementations (you can trigger a change here to force re-render)\nrender:true};var productReducer=function productReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ActionType.GET_ALL_PRODUCTS:var products=action.payload;return _objectSpread(_objectSpread({},state),{},{productTotal:products,productList:products});case ActionType.SEARCH_PRODUCTS:var productSearch=action.payload;return _objectSpread(_objectSpread({},state),{},{productList:productSearch});case ActionType.FILTER_PRODUCTS:var filteredProducts=action.payload;if(filteredProducts.length===0)filteredProducts=state.productTotal;return _objectSpread(_objectSpread({},state),{},{productList:filteredProducts});case ActionType.ADD_PRODUCT:var newProduct=_objectSpread(_objectSpread({},action.payload),{},{id:state.productList.length});return _objectSpread(_objectSpread({},state),{},{productList:[].concat(_toConsumableArray(state.productList),[newProduct])});case ActionType.GET_PRODUCT_DETAILS:return _objectSpread(_objectSpread({},state),{},{productDetails:action.payload});case ActionType.UPDATE_RENDER:return _objectSpread(_objectSpread({},state),{},{render:state.render?false:true});case ActionType.SORT_PRODUCTS:return _objectSpread(_objectSpread({},state),{},{productList:action.payload});default:return _objectSpread({},state);}};export default productReducer;","map":{"version":3,"names":["ActionType","initialState","productTotal","productList","productDetails","id","name","description","S","M","L","XL","price","color","show_in_shop","image","render","productReducer","state","action","type","GET_ALL_PRODUCTS","products","payload","SEARCH_PRODUCTS","productSearch","FILTER_PRODUCTS","filteredProducts","length","ADD_PRODUCT","newProduct","GET_PRODUCT_DETAILS","UPDATE_RENDER","SORT_PRODUCTS"],"sources":["/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/src/state/reducers/productReducer.tsx"],"sourcesContent":["import { ActionType } from \"../action-types\";\nimport { ActionProducts } from \"../actions\";\nimport { Product, ProductState } from \"../types\";\n\n//AL: initialState first defining, needs to match the type defined.\nconst initialState: ProductState = {\n  productTotal: [], //AL:use this state for backup, if needs to retrieve total info for filtering/ordering/etc\n  productList: [], //AL:this state is the one being rendered in the page\n  //AL: this state is for information rendered in the details page of specific items\n  productDetails: {\n    id: 0,\n    name: \"\",\n    description: \"\",\n    S: 0,\n    M: 0,\n    L: 0,\n    XL: 0,\n    price: 0,\n    color: \"\",\n    show_in_shop: true,\n    image: \"\",\n  },\n  //AL:this state is for future implementations (you can trigger a change here to force re-render)\n  render: true,\n};\n\nconst productReducer = (\n  state: ProductState = initialState,\n  action: ActionProducts\n) => {\n  switch (action.type) {\n    case ActionType.GET_ALL_PRODUCTS:\n      let products: ProductState[\"productList\"] = action.payload;\n      return {\n        ...state,\n        productTotal: products,\n        productList: products,\n      };\n    case ActionType.SEARCH_PRODUCTS:\n      let productSearch: ProductState[\"productList\"] = action.payload;\n      return {\n        ...state,\n        productList: productSearch,\n      };\n    case ActionType.FILTER_PRODUCTS:\n      let filteredProducts: ProductState[\"productList\"] = action.payload;\n      if (filteredProducts.length === 0) filteredProducts = state.productTotal;\n      return {\n        ...state,\n        productList: filteredProducts,\n      };\n    case ActionType.ADD_PRODUCT:\n      const newProduct: Product = {\n        ...action.payload,\n        id: state.productList.length,\n      };\n      return {\n        ...state,\n        productList: [...state.productList, newProduct],\n      };\n    case ActionType.GET_PRODUCT_DETAILS:\n      return {\n        ...state,\n        productDetails: action.payload,\n      };\n    case ActionType.UPDATE_RENDER:\n      return {\n        ...state,\n        render: state.render ? false : true,\n      };\n    case ActionType.SORT_PRODUCTS:\n      return {\n        ...state,\n        productList: action.payload,\n      };\n\n    default:\n      return {\n        ...state,\n      };\n  }\n};\n\nexport default productReducer;\n"],"mappings":"mRAAA,OAASA,UAAU,KAAQ,iBAAiB,CAI5C;AACA,GAAMC,aAA0B,CAAG,CACjCC,YAAY,CAAE,EAAE,CAAE;AAClBC,WAAW,CAAE,EAAE,CAAE;AACjB;AACAC,cAAc,CAAE,CACdC,EAAE,CAAE,CAAC,CACLC,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,CAAC,CAAE,CAAC,CACJC,CAAC,CAAE,CAAC,CACJC,CAAC,CAAE,CAAC,CACJC,EAAE,CAAE,CAAC,CACLC,KAAK,CAAE,CAAC,CACRC,KAAK,CAAE,EAAE,CACTC,YAAY,CAAE,IAAI,CAClBC,KAAK,CAAE,EACT,CAAC,CACD;AACAC,MAAM,CAAE,IACV,CAAC,CAED,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAGf,IAFHC,MAAmB,2DAAGjB,YAAY,IAClCkB,OAAsB,2CAEtB,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAKpB,WAAU,CAACqB,gBAAgB,CAC9B,GAAIC,SAAqC,CAAGH,MAAM,CAACI,OAAO,CAC1D,sCACKL,KAAK,MACRhB,YAAY,CAAEoB,QAAQ,CACtBnB,WAAW,CAAEmB,QAAQ,GAEzB,IAAKtB,WAAU,CAACwB,eAAe,CAC7B,GAAIC,cAA0C,CAAGN,MAAM,CAACI,OAAO,CAC/D,sCACKL,KAAK,MACRf,WAAW,CAAEsB,aAAa,GAE9B,IAAKzB,WAAU,CAAC0B,eAAe,CAC7B,GAAIC,iBAA6C,CAAGR,MAAM,CAACI,OAAO,CAClE,GAAII,gBAAgB,CAACC,MAAM,GAAK,CAAC,CAAED,gBAAgB,CAAGT,KAAK,CAAChB,YAAY,CACxE,sCACKgB,KAAK,MACRf,WAAW,CAAEwB,gBAAgB,GAEjC,IAAK3B,WAAU,CAAC6B,WAAW,CACzB,GAAMC,WAAmB,gCACpBX,MAAM,CAACI,OAAO,MACjBlB,EAAE,CAAEa,KAAK,CAACf,WAAW,CAACyB,MAAM,EAC7B,CACD,sCACKV,KAAK,MACRf,WAAW,8BAAMe,KAAK,CAACf,WAAW,GAAE2B,UAAU,EAAC,GAEnD,IAAK9B,WAAU,CAAC+B,mBAAmB,CACjC,sCACKb,KAAK,MACRd,cAAc,CAAEe,MAAM,CAACI,OAAO,GAElC,IAAKvB,WAAU,CAACgC,aAAa,CAC3B,sCACKd,KAAK,MACRF,MAAM,CAAEE,KAAK,CAACF,MAAM,CAAG,KAAK,CAAG,IAAI,GAEvC,IAAKhB,WAAU,CAACiC,aAAa,CAC3B,sCACKf,KAAK,MACRf,WAAW,CAAEgB,MAAM,CAACI,OAAO,GAG/B,QACE,wBACKL,KAAK,EACR,CAER,CAAC,CAED,cAAeD,eAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}