{"ast":null,"code":"import{Formik}from'formik';import Button from'../Buttons/Button/Button';import axios from'axios';import Input from'../Inputs/Input';import{validationSchema}from'../../utils/FormPayment/validation';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FormCheckout=function FormCheckout(){var _useSelector=useSelector(function(state){return state.checkout;}),checkoutList=_useSelector.checkoutList;var products=checkoutList&&checkoutList.length>0?checkoutList.map(function(product){return{id_product:typeof product.id==='string'?parseInt(product.id.split('-')[0],10)||0:0};}):[];var initialValues={area_code:'',number:'',zip_code:'',street_name:'',street_number:'',id_user:1};return/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:function onSubmit(values){axios({method:'post',url:'/orders/payment',data:values}).then(function(res){return window.location.href=res.data.res.body.init_point;});console.log(values);//(res) => (window.location.href = res.data.res.body.init_point)\n},children:function children(_ref){var values=_ref.values,handleSubmit=_ref.handleSubmit,handleChange=_ref.handleChange,errors=_ref.errors,touched=_ref.touched,isSubmitting=_ref.isSubmitting;return/*#__PURE__*/_jsxs(\"form\",{className:\"flex flex-col gap-6 mx-8 my-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street_name\",children:\"Direccion\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"street_name\",name:\"street_name\",placeholder:\"San Martin\",onChange:handleChange,value:values.street_name,className:\" font-poppins\",onBlur:function onBlur(){}}),errors.street_name&&touched.street_name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:errors.street_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row gap-3 sm:flex-row sm:pt-5 sm:gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"street_number\",children:\"Numero de casa\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"street_number\",name:\"street_number\",placeholder:\"12\",onChange:handleChange,value:values.street_number,className:\"text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50\",onBlur:function onBlur(){}}),errors.street_number&&touched.street_number&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:errors.street_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"zip_code\",children:\"Codigo Postal\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"zip_code\",name:\"zip_code\",placeholder:\"3200\",onChange:handleChange,value:values.zip_code,className:\"text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50\",onBlur:function onBlur(){}}),errors.zip_code&&touched.zip_code&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:errors.zip_code})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row gap-3 sm:flex-row sm:pt-5 sm:gap-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"area_code\",children:\"Codigo de Area\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"area_code\",name:\"area_code\",placeholder:\"2954\",onChange:handleChange,value:values.area_code,className:\"text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50\",onBlur:function onBlur(){}}),errors.area_code&&touched.area_code&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:errors.area_code})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col w-full sm:w-1/2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"number\",children:\"Telefono\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"number\",name:\"number\",placeholder:\"153666987\",onChange:handleChange,value:values.number,className:\"text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50\",onBlur:function onBlur(){}}),errors.number&&touched.number&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600\",children:errors.number})]})]}),/*#__PURE__*/_jsx(Button,{text:\"Pagar\",name:\"pagar\",onClick:function onClick(){},disabled:isSubmitting,type:\"submit\",className:'justify-center'})]});}});};","map":{"version":3,"names":["Formik","Button","axios","Input","validationSchema","useSelector","FormCheckout","state","checkout","checkoutList","products","length","map","product","id_product","id","parseInt","split","initialValues","area_code","number","zip_code","street_name","street_number","id_user","values","method","url","data","then","res","window","location","href","body","init_point","console","log","handleSubmit","handleChange","errors","touched","isSubmitting"],"sources":["/Users/alejandroasor/Desktop/DEPLOY-FRONT/client/src/components/payment/FormCheckout.tsx"],"sourcesContent":["import { Formik } from 'formik';\nimport Button from '../Buttons/Button/Button';\nimport axios from 'axios';\nimport Input from '../Inputs/Input';\nimport { validationSchema } from '../../utils/FormPayment/validation';\nimport { initialValues } from '../../utils/FormPayment/initialValues';\nimport { useSelector } from 'react-redux';\nimport { State } from '../../state/reducers';\n\nexport const FormCheckout = (): JSX.Element => {\n  const { checkoutList } = useSelector((state: State) => state.checkout);\n\n  const products =\n    checkoutList && checkoutList.length > 0\n      ? checkoutList.map((product: any) => ({\n          id_product:\n            typeof product.id === 'string'\n              ? parseInt(product.id.split('-')[0], 10) || 0\n              : 0,\n        }))\n      : [];\n\n  const initialValues = {\n    area_code: '',\n    number: '',\n    zip_code: '',\n    street_name: '',\n    street_number: '',\n    id_user: 1,\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      validationSchema={validationSchema}\n      onSubmit={(values) => {\n        axios({\n          method: 'post',\n          url: '/orders/payment',\n          data: values,\n        }).then((res) => (window.location.href = res.data.res.body.init_point));\n        console.log(values);\n        //(res) => (window.location.href = res.data.res.body.init_point)\n      }}\n    >\n      {({\n        values,\n        handleSubmit,\n        handleChange,\n        errors,\n        touched,\n        isSubmitting,\n      }) => (\n        <form className='flex flex-col gap-6 mx-8 my-4' onSubmit={handleSubmit}>\n          <div className='flex flex-col w-full'>\n            <label htmlFor='street_name'>Direccion</label>\n            <Input\n              type='text'\n              id='street_name'\n              name='street_name'\n              placeholder='San Martin'\n              onChange={handleChange}\n              value={values.street_name}\n              className=' font-poppins'\n              onBlur={() => {}}\n            />\n            {errors.street_name && touched.street_name && (\n              <p className='text-red-600'>{errors.street_name}</p>\n            )}\n          </div>\n          <div className='flex flex-row gap-3 sm:flex-row sm:pt-5 sm:gap-5'>\n            <div className='flex flex-col w-full sm:w-1/2'>\n              <label htmlFor='street_number'>Numero de casa</label>\n              <Input\n                type='number'\n                id='street_number'\n                name='street_number'\n                placeholder='12'\n                onChange={handleChange}\n                value={values.street_number}\n                className={`text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50`}\n                onBlur={() => {}}\n              />\n              {errors.street_number && touched.street_number && (\n                <p className='text-red-600'>{errors.street_number}</p>\n              )}\n            </div>\n            <div className='flex flex-col w-full sm:w-1/2'>\n              <label htmlFor='zip_code'>Codigo Postal</label>\n              <Input\n                type='number'\n                id='zip_code'\n                name='zip_code'\n                placeholder='3200'\n                onChange={handleChange}\n                value={values.zip_code}\n                className={`text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50`}\n                onBlur={() => {}}\n              />\n              {errors.zip_code && touched.zip_code && (\n                <p className='text-red-600'>{errors.zip_code}</p>\n              )}\n            </div>\n          </div>\n\n          <div className='flex flex-row gap-3 sm:flex-row sm:pt-5 sm:gap-5'>\n            <div className='flex flex-col w-full sm:w-1/2'>\n              <label htmlFor='area_code'>Codigo de Area</label>\n              <Input\n                type='number'\n                id='area_code'\n                name='area_code'\n                placeholder='2954'\n                onChange={handleChange}\n                value={values.area_code}\n                className={`text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50`}\n                onBlur={() => {}}\n              />\n              {errors.area_code && touched.area_code && (\n                <p className='text-red-600'>{errors.area_code}</p>\n              )}\n            </div>\n            <div className='flex flex-col w-full sm:w-1/2'>\n              <label htmlFor='number'>Telefono</label>\n              <Input\n                type='number'\n                id='number'\n                name='number'\n                placeholder='153666987'\n                onChange={handleChange}\n                value={values.number}\n                className={`text-align-first w-full h-12 pl-3 border border-gray-300 rounded-md bg-gray-50`}\n                onBlur={() => {}}\n              />\n              {errors.number && touched.number && (\n                <p className='text-red-600'>{errors.number}</p>\n              )}\n            </div>\n          </div>\n\n          <Button\n            text='Pagar'\n            name='pagar'\n            onClick={() => {}}\n            disabled={isSubmitting}\n            type='submit'\n            className={'justify-center'}\n          />\n        </form>\n      )}\n    </Formik>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}